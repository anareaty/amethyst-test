{"/Test":{"title":"Test-2","content":"\nText","lastmodified":"2024-07-05T08:12:24.555694713Z","tags":null},"/how-to-add-sketches-to-obsidian":{"title":"Как добавлять рисунки в Обсидиан","content":"\nИногда в свои заметки в Обсидиане хочется добавить какой-то скетч. Я пробовала плагин Ecxalidraw, пробовала другие приложения для рисования, но у меня нет стилуса, так что всё это было не очень-то удобно. В конце концов я пришла к мысли, что мне проще и быстрее нарисовать картинку или схему в блокноте и сфотографировать её. Блокнот у меня всегда с собой, а рисую я чёрным линером для большей чёткости.\n\n![450](https://paperless-forest.ru/images/add-sketch.jpg)\n\nЧёрно-белая картинка хорошо смотрится на белом фоне, но на цветном фоне или при использовании тёмной темы слишком уж выделяется. Но вот в [этом видео](https://youtu.be/9T9VL8_i1Tg) я увидела идею, как подогнать цвета картинки под цвет темы Обсидиана. У автора видео это всё выглядит сложновато, так что для себя я всё немного упростила. Вот как это может выглядеть в светлой или тёмной теме:\n\n![[./images/Скриншот добавление рисунков светлая тема перекраска.jpg|250]] ![[./images/Скриншот добавление рисунков тёмная тема перекраска.jpg|250]]\n\nЧтобы добиться такого эффекта, сначала картинку нужно сделать прозрачной. Для этого надо удалить с неё белый фон. Это можно сделать в Фотошопе, но за неимением Фотошопа я использую [paint.net](https://www.getpaint.net). \n\nПредварительно я обрабатываю изображение фильтрами, чтобы сделать его чёрно-белым с максимальной контрастностью, без лишних оттенков. Это сделает очистку фона эффективнее. Это я обычно проделываю уже в момент фотографирования, на телефоне, с помощью встроенных инструментов камеры и галереи.\n\nЧтобы затем удалить фон в paint.net нужно выбрать инструмент «волшебная палочка», заполнение: глобальное, чувствительность: 40%. Затем кликнуть по белому фону и нажать `delete`. Должно удалиться всё белое. Сохранить файл в формате `png` для сохранения прозрачности.\n\nЗатем файл картинки нужно переименовать, добавив в любое место названия текст «recolor-image». Этот текст будет сигнализировать о том, что изображение должно перекрашиваться под тему (потому что мы не хотим, чтобы перекрашивались вообще все картинки).\n\nПоскольку фон картинки прозрачный, его перекрашивать не нужно. Но нужно добавить фильтры для перекрашивания текста и линий на рисунке. Это особенно актуально для тёмной темы. Я хочу, чтобы цвет рисунка соответствовал цвету шрифта. Для этого нужно подключить css-сниппет:\n\n```css\n.theme-light {\n--image-filter: \u003cфильтр для светлой темы\u003e;\n}\n.theme-dark {\n--image-filter: \u003cфильтр для тёмной темы\u003e;\n}\n.image-embed[src*=\"recolor-image\"] img {\n  filter:  var(--image-filter);\n}\n```\n\nК сожалению, фильтры не высчитываются автоматически, и придётся их прописывать вручную для каждой темы. Для этого:\n- Определяем цвет шрифта или любой другой желаемый цвет рисунка в формате HEX или RGB;\n- Открываем [генератор](https://angel-rs.github.io/css-color-filter-generator/), вставляем в него код желаемого цвета и генерируем фильтр. \n- Полученные параметры фильтра подставляем в переменную `--image-filter`.\n\nПосле этого чёрный цвет на картинке отфильтруется и превратится в нужный нам цвет.\n\n**Дополнение:** Есть ещё другой способ, без использования генератора. Добавляем фильтр в формате svg:\n\n```css\n--image-filter: url('data:image/svg+xml;utf8,\\\n\u003csvg xmlns=\"http://www.w3.org/2000/svg\"\u003e\\\n\u003cfilter id=\"recolor\" color-interpolation-filters=\"sRGB\"\u003e\\\n  \u003cfeColorMatrix type=\"matrix\" values=\"\\\n    0 0 0 0 R\\\n    0 0 0 0 G\\\n    0 0 0 0 B\\\n    0 0 0 A 0\\\n  \"/\u003e\\\n\u003c/filter\u003e\\\n\u003c/svg\u003e\\\n#recolor');\n```\n\nПри этом буквы RGBA нужно заменить на соответствующие выбранному цвету. Для этого нам нужно получить код цвета в формате rgb или rgba, например: rgba(74, 52, 28, 0.9). Первые три значения делим на 255, четвёртое оставляем без изменений и в таком виде подставляем в матрицу. Получаем:\n\n```css\n0 0 0 0 0.29\\\n0 0 0 0 0.2\\\n0 0 0 0 0.11\\\n0 0 0 0.9 0\\\n```\n\nСтоит учитывать, что при делении приходится округлять, поэтому, как и в первом случае, цвет может совпадать не на сто процентов.\n\n\n","lastmodified":"2024-07-05T08:12:24.555694713Z","tags":null},"/tags/":{"title":"Тэги","content":"\ntags\n","lastmodified":"2024-07-05T08:12:24.575694397Z","tags":null},"/test3":{"title":"Test-2","content":"\nText","lastmodified":"2024-07-05T08:12:24.579694334Z","tags":null}}